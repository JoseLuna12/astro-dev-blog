---
type Props = {
  lang: string;
  title: string;
  subtitle: string;
  hero: string;
  categories: string[];
  blogId: string;
  thumbnail: string;
  languages: string[];
};

const {
  title,
  lang,
  hero,
  categories,
  subtitle,
  blogId,
  thumbnail,
  languages,
} = Astro.props;

let supportedLanguages: { [key: string]: string } = {
  en: "English",
  es: "Espa√±ol",
};
---

<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />

    <meta property="og:title" content={title} />
    <meta property="og:type" content="blog" />
    <meta property="og:url" content={Astro.url.pathname} />
    <meta property="og:image" content={thumbnail} />

    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={subtitle} />
    <meta name="twitter:image" content={thumbnail} />
    <meta name="twitter:card" content="summary_large_image" />

    <meta name="twitter:image:alt" content={title} />
    <meta property="og:site_name" content="Dev log portfolio" />
    <title>{title}</title>
  </head>
  <body>
    {
      (
        <div class="w-full flex justify-center space-x-2 py-10">
          {languages.map((l, index) => {
            return (
              <div>
                <a
                  href={`/dev/${l}/${blogId}`}
                  class:list={[{ "text-red-500": lang == l }]}
                >
                  {supportedLanguages[l]}
                </a>
                {index != languages.length - 1 ? <span>|</span> : ""}
              </div>
            );
          })}
        </div>
      )
    }

    <div class="px-5 md:px-0">
      <h1 class="text-4xl font-bold text-center py-2">{title}</h1>
      <h3 class="text-xl text-center py-1">{subtitle}</h3>
    </div>
    <div
      class="flex justify-center space-x-2 md:space-x-5 lg:space-x-7 pt-5 px-5"
    >
      {
        categories.map((c) => {
          return (
            <div class="text-sm px-3 py-1 rounded-full bg-slate-400 text-white">
              {c}
            </div>
          );
        })
      }
    </div>
    <div class="w-full px-10 md:px-10 lg:px-20 flex flex-col pt-10">
      <div class="w-auto h-auto place-self-center">
        <img
          src={hero}
          class="object-cover w-[90vw] sm:w-[90vw] md:w-[80vw] lg:w-[60vw] h-auto"
          alt=""
          draggable="false"
        />
      </div>
      <div
        class="pt-5 md:pt-10 lg:pt-20 px-0 md:px-10 lg:px-20 flex justify-center"
      >
        <article
          class="prose md:prose-xl lg:prose-2xl prose-zinc prose-img:rounded-xl"
        >
          <slot name="blog" />
        </article>
      </div>
    </div>
  </body>
</html>

<style is:global>
  @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap");
  * {
    font-family: "Poppins", sans-serif;
  }
</style>
